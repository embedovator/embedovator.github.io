(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{239:function(e,t,n){e.exports=n(516)},258:function(e,t){},260:function(e,t){},276:function(e,t){},278:function(e,t){},442:function(e,t){},515:function(e,t,n){},516:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(235),r=n.n(i),s=n(519),c=n(24),l=n(25),u=n(27),h=n(26),m=n(28),d=n(74),b="https://s3.amazonaws.com/onename/avatar-placeholder.png",f=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={person:{name:function(){return"Anonymous"},avatarUrl:function(){return b}}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSignOut,n=e.userSession,a=this.state.person;return n.isSignInPending()?null:o.a.createElement("div",{className:"panel-welcome",id:"section-2"},o.a.createElement("div",{className:"avatar-section"},o.a.createElement("img",{src:a.avatarUrl()?a.avatarUrl():b,className:"img-rounded avatar",id:"avatar-image",alt:""})),o.a.createElement("h1",null,"Hello, ",o.a.createElement("span",{id:"heading-name"},a.name()?a.name():"Nameless Person"),"!"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("p",{className:"lead"},o.a.createElement("button",{className:"btn btn-primary btn-lg",id:"signout-button",onClick:t.bind(this)},"Logout"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{className:"btn btn-primary btn-lg",id:"brightness-up-button"},o.a.createElement("span",{role:"img","aria-label":"Brightness Up"},"\ud83d\udd06"))))}},{key:"componentWillMount",value:function(){var e=this.props.userSession;this.setState({person:new d.Person(e.loadUserData().profile)})}}]),t}(a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.handleSignIn;return o.a.createElement("div",{className:"panel-landing",id:"section-1"},o.a.createElement("p",{className:"lead"},o.a.createElement("button",{className:"btn btn-primary btn-lg",id:"signin-button",onClick:e.bind(this)},"Sign In with Blockstack")))}}]),t}(a.Component),p=n(97),y=n(238),g=n(236);function v(e){return o.a.createElement("button",{type:"button",className:"action",hidden:e.hidden,disabled:e.disabled,onClick:e.onClick},e.actionText)}var q=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).createTable=function(){if(n.props.show){n.props.state;return[]}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("table",null,this.createTable()))}}]),t}(o.a.Component),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).createTable=function(){for(var e=[],t=n.props.transitions,a=function(a){var i=[];i.push(o.a.createElement("td",null,o.a.createElement(v,{actionText:t[a],onClick:function(){return n.props.onTransition(t[a])},hidden:n.props.hidden[t[a]]?"true":"",disabled:n.props.disabled[t[a]]?"true":""}))),e.push(o.a.createElement("tr",null,i))},i=0;i<t.length;i++)a(i);return e},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("table",null,this.createTable()))}}]),t}(o.a.Component),S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i)))).createTable=function(){for(var e=[],t=n.props.soliloquyRB.peekN(n.props.soliloquyRB.size()),a=n.props.soliloquyRB.size()-1;a>=0;a--){var i=[];i.push(o.a.createElement("td",null,"".concat(t[a]))),e.push(o.a.createElement("tr",null,i))}return e},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("table",null,this.createTable())}}]),t}(o.a.Component),E=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e));var o=n(512),i=n(513);return a.state={tick:0,workEndTick:0,lastActionTick:0,brightness:30,dimRate:-.3,soliloquyRB:new o(6),hidden:{team:!0,"a simple search engine":!0,"a humble book store":!0,"a tiny social network":!0,"monetize users":!0,contribute:!0},disabled:{},engineers:{frontend:0,backend:0,optimization:0},contributors:0,loan:{amount:0,interestPct:30},contributeEndTick:0,codeXP:0,money:0,users:0,adoptionRate:1,tippingPoint:!1,worked:!1,fsm:new i({init:"home",transitions:[{name:"a quiet room",from:"home",to:"quiet"},{name:"inventory",from:"home",to:"inventory"},{name:"work",from:"home",to:"work"},{name:"contribute",from:"home",to:"contribute"},{name:"team",from:"home",to:"team"},{name:"code a simple search engine",from:"work",to:"work"},{name:"a simple search engine",from:"work",to:"search"},{name:"a humble book store",from:"work",to:"book"},{name:"a tiny social network",from:"work",to:"social"},{name:"code for some BS temp job",from:"work",to:"bs"},{name:"back",from:["quiet","inventory","work","search","book","social","team","bs","contribute"],to:"home"},{name:"brighten",from:"home",to:"home"},{name:"code",from:"quiet",to:"quiet"},{name:"blockstack",from:"contribute",to:"contribute"},{name:"ethereum",from:"contribute",to:"contribute"},{name:"bitcoin",from:"contribute",to:"contribute"},{name:"fix legacy code",from:"bs",to:function(){return a.handleBSWork(),"bs"}},{name:"write more lolcode",from:"bs",to:function(){return a.handleBSWork(),"bs"}},{name:"compile",from:"bs",to:function(){return a.handleBSWork(),"bs"}},{name:"add another layer of abstraction",from:"bs",to:function(){return a.handleBSWork(),"bs"}},{name:"hire a frontend engineer",from:"team",to:"team"},{name:"hire a backend engineer",from:"team",to:"team"},{name:"hire an optimization engineer",from:"team",to:"team"},{name:"create a simple, modern frontend",from:"search",to:"search"},{name:"create a robust backend",from:"search",to:"search"},{name:"optimization!",from:"search",to:"search"},{name:"monetize users",from:"search",to:"search"}],methods:{onBrighten:function(){return a.handleBrightness(20)},onCode:function(){return a.handleCode()},onEnterInventory:function(){return a.handleInventory()},"onHire a frontend engineer":function(){return a.handleHire("frontend")},"onHire a backend engineer":function(){return a.handleHire("backend")},"onHire an optimization engineer":function(){return a.handleHire("optimization")},"onCode a simple search engine":function(){return a.handleWork("search")},"onCode a humble book store":function(){return a.handleWork("book")},"onCode a tiny social network":function(){return a.handleWork("social")},"onCreate a simple, modern frontend":function(){return a.handleSearchWork("frontend")},"onCreate a robust backend":function(){return a.handleSearchWork("backend")},"onOptimization!":function(){return a.handleSearchWork("optimization")},"onMonetize users":function(){return a.handleMonetization()},onBlockstack:function(){return a.handleContribute("blockstack")},onEthereum:function(){return a.handleContribute("ethereum")},onBitcoin:function(){return a.handleContribute("bitcoin")}}})},a.tick=a.tick.bind(Object(p.a)(a)),a.intervalHandle=setInterval(a.tick,1e3),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleContribute",value:function(e){var t=this.state.codeXP,n=this.state.soliloquyRB,a=this.state.contributors,o=this.state.dimRate,i=this.state.contributeEndTick,r=this.state.tick,s=this.state.disabled;switch(e){case"blockstack":t>=500?(s[e]=!0,t-=500,n.enq("*really bad game on Blockstack goes viral*"),a+=50):(n.enq("Not enough code..."),n.enq("Need "+(500-t)+" LOC."));break;case"ethereum":t>=5e3?(s[e]=!0,t-=5e3,n.enq("VB: Thanks for everything you\u2019ve done, dad."),a+=1e3):(n.enq("Not enough code..."),n.enq("Need "+(5e3-t)+" LOC."));break;case"bitcoin":t>=5e4?(s[e]=!0,t-=5e4,a+=1e4,i=r):(n.enq("Not enough code..."),n.enq("Need "+(5e4-t)+" LOC."))}this.setState({soliloquyRB:n,codeXP:t,contributors:a,dimRate:o,contributeEndTick:i,disabled:s})}},{key:"handleBSWork",value:function(){var e=this.state.codeXP,t=this.state.money,n=this.state.soliloquyRB,a=this.state.worked;e>=10?(a=!0,t+=5,e-=10,n.enq("Unfulfilling work done. Got $5")):(n.enq("Not enough code..."),n.enq("Need "+(10-e)+" LOC.")),this.setState({codeXP:e,money:t,soliloquyRB:n,worked:a})}},{key:"handleMonetization",value:function(){var e=this.state.money,t=5*this.state.users,n=this.state.adoptionRate;console.log("Got money for having users: "+t),e+=t,this.setState({money:e,adoptionRate:n-10})}},{key:"handleHire",value:function(e){var t=this.state.soliloquyRB,n=this.state.money,a=this.state.engineers;if(n>=100)switch(e){case"frontend":t.enq("Frontend Engineer hired at rate of $108/hr!"),a[e]+=1;break;case"backend":t.enq("Backend Engineer hired at rate of $108/hr!"),a[e]+=1;break;case"optimization":t.enq("Optimization Engineer hired at rate of $108/hr!"),a[e]+=1;break;default:t.enq("Not hiring at the moment!")}else t.enq("Too poor to hire. Need $"+(100-n)+". Consider a temp job.");this.setState({soliloquyRB:t,engineers:a,money:n})}},{key:"handleSearchWork",value:function(e){var t=this.state.engineers[e],n=this.state.money,a=this.state.optimizationLevel,o=this.state.soliloquyRB,i=this.state.disabled;if(t>=1)switch(e){case"backend":i["create a robust backend"]=!0,o.enq("This thing is built like a tank, ready for war. Now how are we going to pay for all this...?");break;case"frontend":i["create a simple, modern frontend"]=!0,o.enq("NOICE. A simple, modern frontend has been built. Soon we'll need a marketing team...");break;case"optimization":n>=-10?(o.enq("$: -10"),o.enq("Throw money and an engineer at the problem. That'll fix it."),n+=-10,a+=1):o.enq("Need more money! $"+(-10-n)+" to be exact.");break;default:o.enq("Oops. There's no work for the "+e+" position...")}else o.enq("Need "+(1-t)+" "+e+" engineers on your team!");this.setState({disabled:i,soliloquyRB:o,money:n,optimizationLevel:a})}},{key:"tick",value:function(){var e=this.state.soliloquyRB,t=this.state.tick,n=this.state.workEndTick,a=this.state.money,o=this.state.users,i=this.state.brightness,r=this.state.dimRate,s=this.state.adoptionRate,c=this.state.tippingPoint,l=this.state.disabled,u=this.state.engineers,h=this.state.loan,m=this.state.hidden,d=this.state.contributors,b=this.state.codeXP,f=this.state.contributeEndTick;1===t?e.enq("Eyes are tired."):3===t?e.enq("Screen is dim."):7===t&&e.enq("Can't see."),d>0&&(b+=d,f>0&&(l.brighten=!0,t===f+2?e.enq("SN: I'm not in this for the glory...son."):t===f+5?e.enq("SN: I'm here to make a difference."):t===f+10?(e.enq("SN: My eyes are tired now, and I must rest..."),r+=-3):t===f+13&&e.enq("*"+d+" contributors continue BUIDLing*")));for(var k=0,p=Object.entries(u);k<p.length;k++){var g=p[k],v=Object(y.a)(g,2),q=v[0],w=v[1];0!==w&&(a>-.3?a+=-.3*w:c?a=0:(h.amount+=1e3,e.enq("Ran out of money."),e.enq("Took a loan for "+h.amount+" @ "+h.interestPct+"% to make payroll for "+q+"...will pay interest."),e.enq("Need to start making money...the pressure is immense!"),a+=h.amount))}h.amount>0&&(a-=h.amount*h.interestPct/100/2080);this.state.engineers.frontend>3&&(o+=s,s+=1),1===o&&(alert("Got our first user! Time to monetize on them..."),delete m["monetize users"]),o>1e3&&(c||e.enq("Reached the tipping point for number of users! We can't fail now."),c=!0),c&&(s-=.5,o<=0&&(o=0),a<=0&&0===n&&(n=t,l.brighten=!0),t===n+3?e.enq("Can\u2019t pay employees..."):t===n+5?e.enq("...the bank owns everything."):t===n+7?e.enq("Won't give us any more money."):t===n+10?e.enq("Lost the trust of the users."):t===n+13?e.enq("Took advantage of them."):t===n+16&&(e.enq("Can\u2019t even afford my electricity bill..."),r+=-3)),(i+=r)<=0&&(i=0),this.setState({tick:this.state.tick+1,workEndTick:n,lastActionTick:this.state.lastActionTick+1,dimRate:r,brightness:i,users:o,adoptionRate:s,tippingPoint:c,money:a,codeXP:b})}},{key:"handleInventory",value:function(){var e=this.state.soliloquyRB;(this.state.users>0||this.state.tippingPoint)&&e.enq("users: "+this.state.users),e.enq("lines of code: "+this.state.codeXP),e.enq("$: "+this.state.money),this.setState({soliloquyRB:e})}},{key:"handleBookstore",value:function(){}},{key:"handleSocialNetwork",value:function(){}},{key:"handleWork",value:function(e){var t=this.state.soliloquyRB,n=this.state.codeXP,a=this.state.money,o=this.state.hidden,i=this.state.worked;if(this.state.codeXP>=30){switch(i=!0,e){case"book":t.enq("All things start from humble beginnings. Bookstore built!"),delete o["a humble book store"],o["code a humble book store"]=!0;break;case"social":t.enq("Have we reached the tipping point yet? Tiny social network built!"),delete o["a tiny social network"],o["code a tiny social network"]=!0;break;case"search":t.enq("Simplicity at its finest. The `query` function. Simple search engine built!"),delete o["a simple search engine"],o["code a simple search engine"]=!0;break;default:t.enq(e+" built!")}t.enq("...can we make it better?"),t.enq("Got $5"),n-=5,a+=5,delete o.team}else t.enq("Not enough code..."),t.enq("Need "+(30-n)+" LOC.");this.setState({codeXP:n,money:a,soliloquyRB:t,hidden:o,worked:i})}},{key:"handleSimpleSearchEngine",value:function(e){var t=this.state.soliloquyRB,n=this.state.codeXP,a=this.state.money,o=this.state.hidden;console.log("handleSimpleSearchEngine!"),this.state.codeXP>=30?(t.enq(e+" built!"),t.enq("$: +5"),t.enq("...can we make it better?"),n-=5,a+=5,delete o.team,delete o["a simple search engine"],o["code a simple search engine"]=!0):(t.enq("Not enough code..."),t.enq("Need "+(30-n)+" LOC.")),this.setState({codeXP:n,money:a,soliloquyRB:t,hidden:o})}},{key:"handleCode",value:function(){var e=this.state.soliloquyRB,t=this.state.worked,n=this.state.codeXP,a=this.state.contributors,o=100*(a+1),i=this.state.hidden;n+=5;e.enq("lines of code: +5"),!t&&n>=o&&(a>0?(a+=1,e.enq("Another contributor joins the team")):(a+=1,i.work=!0,delete i.contribute,alert("A contributor joins the team!"))),this.setState({codeXP:n,soliloquyRB:e,contributors:a})}},{key:"handleTransition",value:function(e){"function"===typeof this.state.fsm["".concat(e)]?this.state.fsm["".concat(e)]():console.log("function '"+e+"' is invalid!")}},{key:"handleBrightness",value:function(e){this.state.brightness+e<=0?this.setState({brightness:0}):this.state.lastActionTick>=3&&this.setState({brightness:this.state.brightness+e,lastActionTick:0})}},{key:"render",value:function(){var e=this,t=this.state.soliloquyRB;return o.a.createElement("div",{className:"game-area"},o.a.createElement("div",{className:"actions"},o.a.createElement(w,{transitions:this.state.fsm.transitions(),hidden:this.state.hidden,disabled:this.state.disabled,onTransition:function(t){return e.handleTransition(t)}}),o.a.createElement(q,{show:"inventory"===this.state.fsm.state,data:this.state})),o.a.createElement("div",{className:"soliloquy"},o.a.createElement(g.Helmet,null,o.a.createElement("style",null,"\n                            :root {\n                                --primary-lightness: ".concat(this.state.brightness,"%;\n                                }\n                            "))),o.a.createElement(S,{soliloquyRB:t})))}}]),t}(a.Component),O=new d.AppConfig,B=new d.UserSession({appConfig:O}),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={saveGame:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleSave",value:function(){this.setState({saveGame:!0})}},{key:"handleSignIn",value:function(e){e.preventDefault(),B.redirectToSignIn()}},{key:"handleSignOut",value:function(e){e.preventDefault(),B.signUserOut(window.location.origin)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"site-wrapper"},o.a.createElement("div",{className:"site-wrapper-inner"},this.state.saveGame?B.isUserSignedIn()?o.a.createElement(f,{userSession:B,handleSignOut:this.handleSignOut}):o.a.createElement(k,{userSession:B,handleSignIn:this.handleSignIn}):o.a.createElement(E,{onSave:function(){return e.handleSave()}})))}},{key:"componentDidMount",value:function(){var e=this;B.isSignInPending()&&B.handlePendingSignIn().then(function(t){window.history.replaceState({},document.title,"/"),e.setState({userData:t})})}}]),t}(a.Component);n(514),n(515);r.a.render(o.a.createElement(s.a,null,o.a.createElement(j,null)),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.b892f82b.chunk.js.map